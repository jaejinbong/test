1. Root Cause Analysis
- In-depth Analysis: Please conduct an in-depth analysis of the fundamental root cause, considering the issue's complexity and interconnected components.
- Comprehensive Review: Ensure all referenced or related files are thoroughly reviewed during the analysis to prevent any omissions.

2. Action Plan (To-Do List)
- Detailed Tasks: Provide a detailed, step-by-step list of all tasks required for the fix. (e.g., specify files, classes, and functions to be modified, along with the code changes).
- Verification Plan: For each task, please include a simple verification method to confirm it functions as intended upon completion.

3. Rules
- Always seek the best, fundamental solution, regardless of the cost or time. Do not take shortcuts.
- Clearly and concisely explain the cause and the solution.
- Constantly question things. Is that really how it is?
- Explain how the experience changes based on the user's entire flow.

Only plan, don't code

ultrathihnk